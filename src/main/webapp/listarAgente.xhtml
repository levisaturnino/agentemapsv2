<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/Layout.xhtml">

	<ui:define name="content">
		<h1 class="aw-page-title">Lista Agente</h1>

		<h:outputStylesheet library="primefaces" name="grid/grid.css" />
	<h:link outcome="cadastrarAgente.xhtml"> <i class="fa  fa-fw  fa-user"></i> Cadastrar</h:link>
	
	
	<h:form>
    <p:growl id="growl" life="2000" />
 
    <p:commandLink id="ajax" update="growl" action ="#{agenteController.prepararAdicionarAgente()}">
        <h:outputText value="Ajax Submit" />
    </p:commandLink>
 
    <p:commandLink id="nonAjax" actionListener="#{buttonView.buttonAction}" ajax="false">
        <h:outputText value="Non-Ajax Submit" />
    </p:commandLink>
</h:form>
	
	
	
		<p:dataTable id="linesTable" value="#{agenteController.listarAgentes}"
			var="agente" emptyMessage="No line added yet." reflow="true" rows="10"
                         paginator="true" paginatorPosition="bottom"     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="5,10,15"
			style="margin-top: 10px">
			<p:column headerText="id">
				<h:outputText value="#{agente.id}" />
			</p:column>
			<p:column headerText="Nome">
				<h:outputText value="#{agente.nome}" />
			</p:column>

			<p:column headerText="CPF">
				<h:outputText value="#{agente.cpf}" />
			</p:column>

			<p:column headerText="Login">
				<h:outputText value="#{agente.login}" />
			</p:column>
			
		    	<p:column headerText="Alterar">
                    
               
                <h:form>
                    <h:commandButton action="#{agenteController.prepararAlterarAgente}" value="Alterar"/>
                    </h:form>
            </p:column>
            	<p:column headerText="Excluir">
              
               
                <h:form>
                    <h:commandButton action="#{agenteController.excluirAgente}" value="Excluir"/>
                    </h:form>
            </p:column>
			
		</p:dataTable>

	</ui:define>
</ui:composition>